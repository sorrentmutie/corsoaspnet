@model DemoMVC.Suppliers

@{ 
    var indirizzo = Model.ToString();
}

<div id="map" style="height:400px; margin-top:50px; margin-bottom:50px"></div>


<div class="row" style="margin-top: 20px">

    <div class="col-md-6">

        <img src="https://www.mapquestapi.com/staticmap/v5/map?key=2yQuTXXx8Mvpn9AdLyW4k4vGUC0uU2Ul&center=@indirizzo" />

    </div>
    <div class="col-md-6">


        <div>
            <h4>Suppliers</h4>
            <hr />
            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.CompanyName)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.CompanyName)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.ContactName)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.ContactName)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.ContactTitle)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.ContactTitle)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Address)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Address)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.City)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.City)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Region)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Region)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.PostalCode)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.PostalCode)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Country)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Country)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Phone)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Phone)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Fax)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Fax)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.HomePage)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.HomePage)
                </dd>

            </dl>
        </div>

    </div>

</div>






<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.SupplierID }) |
    @Html.ActionLink("Back to List", "Index")
</p>

<script>
    L.mapquest.key = '2yQuTXXx8Mvpn9AdLyW4k4vGUC0uU2Ul';
    L.mapquest.geocoding().geocode('@indirizzo', createMap);
    function createMap(error, response) {
        var location = response.results[0].locations[0];
        var latLng = location.displayLatLng;
        var map = L.mapquest.map('map', {
            center: latLng,
            layers: L.mapquest.tileLayer('map'),
            zoom: 14
        });
    }

    navigator.geolocation.getCurrentPosition(function (data) {
        console.log(data);
        L.mapquest.map('map', {
            center: [data.coords.latitude, data.coords.longitude],
            layers: L.mapquest.tileLayer('map'),
            zoom: 12
        });
    })


</script>